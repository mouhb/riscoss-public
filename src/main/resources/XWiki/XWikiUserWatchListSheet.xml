<?xml version='1.0' encoding='UTF-8'?>
<xwikidoc version="1.1">
  <web>XWiki</web>
  <name>XWikiUserWatchListSheet</name>
  <language/>
  <defaultLanguage/>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <creationDate>1429197408000</creationDate>
  <parent>XWiki.XWikiUserSheet</parent>
  <author>xwiki:XWiki.Admin</author>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <date>1303989085000</date>
  <contentUpdateDate>1303989085000</contentUpdateDate>
  <version>1.1</version>
  <title/>
  <comment>Imported from XAR</comment>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.0</syntaxId>
  <hidden>true</hidden>
  <content>{{velocity}}
#set($obj = $doc.getObject("XWiki.XWikiUsers"))
#if(!$obj)
= $services.localization.render('xe.admin.users.sheet') =

{{info}}$services.localization.render('xe.admin.users.applyonusers'){{/info}}##
#else
#set($watchOject = $doc.getObject('XWiki.WatchListClass'))
{{html clean="false" wiki="true"}}
$xwiki.ssx.use("XWiki.XWikiUserSheet")##
  &lt;div class="#if($xcontext.action == 'view')half #{else}full #{end}column xform">
    &lt;div class="watchlistManagement">
      #if($xcontext.action == 'view' &amp;&amp; $hasEdit)
        &lt;div class="editProfileCategory">&lt;a href="$doc.getURL('edit', 'category=watchlist')">&lt;span class="hidden">$services.localization.render('platform.core.profile.category.watchlist.edit')&lt;/span>&lt;/a>&lt;/div>
      #end
      &lt;h1>$services.localization.render('platform.core.profile.section.watchlistManagement')&lt;/h1>
      &lt;dl>
        &lt;dt class="label">&lt;label>$services.localization.render('platform.core.profile.watchlist.notifier')&lt;/label>&lt;/dt>
        #set($notifierDocs = $xwiki.watchlist.getNotifiers())
        #set($currentNotifier = $watchOject.getProperty('interval').getValue())
        &lt;dd>
          #if($xcontext.action=='view')
            #if("$!currentNotifier" != "")
              #foreach($notifierDoc in $notifierDocs)
                #if($notifierDoc.getFullName() == $currentNotifier)
                  $notifierDoc.getPlainTitle()
                #end
              #end
            #end
          #else
            &lt;select name="XWiki.WatchListClass_0_interval">
              &lt;option value="">&amp;nbsp;&lt;/option>
              #foreach($notifierDoc in $notifierDocs)
                &lt;option value="$notifierDoc.getFullName()"#if($notifierDoc.getFullName()==$currentNotifier) selected="selected"#end>$notifierDoc.getPlainTitle()&lt;/option>
              #end
            &lt;/select>
          #end
        &lt;/dd>
        &lt;dt class="label">&lt;label#if($xcontext.action != 'view') for="XWiki.WatchListClass_0_automaticwatch"#end>$services.localization.render('XWiki.WatchListClass_automaticwatch')&lt;/label>&lt;/dt>
        &lt;dd>
          $watchOject.automaticwatch
        &lt;/dd>
      &lt;/dl>
    &lt;/div>
  &lt;/div>
  #if ($xcontext.action == 'view')
    ## The live table display of the watchlist entries doesn't adapt i.e. in case of long page names
    ## when the available width is limited so we need to ensure this column takes at least half of the container width
    ## (unlike the rest of the columns). The result is that this column will be displayed below the previous one when
    ## the page width is reduced.
    &lt;div class="min-half column">
      &lt;div class="watchlistRss">
        &lt;h1>$services.localization.render('watchlist.staytuned.rss')&lt;/h1>
        &lt;a id="watchlistRssLink" rel="_blank" href="$xwiki.getURL('XWiki.WatchListRss', 'view', 'xpage=plain&amp;amp;outputSyntax=plain')">$services.localization.render('watchlist.staytuned.rss.info')&lt;/a>
      &lt;/div>
      &lt;div class="watchlistElements">
        &lt;h1>$services.localization.render('platform.core.profile.section.watchlistElements')&lt;/h1>

        {{watchlist /}}

      &lt;/div>
    &lt;/div>
  #end
  &lt;div class="clearfloats">&amp;nbsp;&lt;/div>
{{/html}}##
#end
{{/velocity}}</content>
</xwikidoc>